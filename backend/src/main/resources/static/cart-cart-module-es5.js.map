{"version":3,"sources":["./src/app/cart/components/cart-table/cart-table.component.html","./src/app/cart/containers/cart-list/cart-list.component.html","./src/app/cart/cart-routing.module.ts","./src/app/cart/cart.module.ts","./src/app/cart/components/cart-table/cart-table.component.css","./src/app/cart/components/cart-table/cart-table.component.ts","./src/app/cart/containers/cart-list/cart-list.component.css","./src/app/cart/containers/cart-list/cart-list.component.ts","./src/app/order/order.service.ts"],"names":[],"mappings":"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","file":"cart-cart-module-es5.js","sourcesContent":["module.exports = \"<table mat-table\\n       [dataSource]=\\\"dataSource\\\"\\n       class=\\\"mat-elevation-z8\\\">\\n  <ng-container matColumnDef=\\\"title\\\">\\n    <mat-header-cell *matHeaderCellDef\\n                     class=\\\"double\\\"> Title </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let element\\\"\\n              class=\\\"double\\\"> {{element.item.title}} </mat-cell>\\n    <mat-footer-cell *matFooterCellDef\\n                     class=\\\"double\\\"> Total </mat-footer-cell>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"description\\\">\\n    <mat-header-cell *matHeaderCellDef\\n                     class=\\\"double\\\"> Description </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let element\\\"\\n              class=\\\"double\\\"> {{element.item.description}} </mat-cell>\\n    <mat-footer-cell *matFooterCellDef\\n                     class=\\\"double\\\"></mat-footer-cell>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"quantity\\\">\\n    <mat-header-cell *matHeaderCellDef\\n                     class=\\\"center\\\"> Quantity </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let element\\\"\\n              class=\\\"center\\\">\\n      {{element.quantity}}\\n      <mat-icon class=\\\"btn-edit pointer\\\"\\n                [color]=\\\"'accent'\\\"\\n                (click)=\\\"onQuantityChange(element.quantity,element.item.id)\\\">edit</mat-icon>\\n    </mat-cell>\\n    <mat-footer-cell *matFooterCellDef\\n                     class=\\\"center\\\"></mat-footer-cell>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"totalEuro\\\">\\n    <mat-header-cell *matHeaderCellDef\\n                     class=\\\"center\\\"> Total Euro</mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let element\\\"\\n              class=\\\"center\\\"> \\n              {{ ( element.total ) | currency: 'EUR': 'symbol-narrow' : '1.0' }}\\n    </mat-cell>\\n    <mat-footer-cell *matFooterCellDef\\n                     class=\\\"center\\\"> \\n                     {{ total | currency: 'EUR': 'symbol-narrow' : '1.0' }} \\n                    </mat-footer-cell>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"totalUsd\\\">\\n    <mat-header-cell *matHeaderCellDef\\n                     class=\\\"center\\\"> Total USD</mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let element\\\"\\n              class=\\\"center\\\"> \\n              {{ (element.total| convert : 'USD') | currency: 'USD': 'symbol-narrow' : '1.0'  }}\\n    </mat-cell>\\n    <mat-footer-cell *matFooterCellDef\\n                     class=\\\"center\\\"> \\n                     {{ (total| convert : 'USD') | currency: 'USD': 'symbol-narrow' : '1.0'  }}\\n                    </mat-footer-cell>\\n  </ng-container>\\n\\n  <ng-container matColumnDef=\\\"delete\\\">\\n    <mat-header-cell *matHeaderCellDef\\n                     class=\\\"half right\\\">Remove</mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let element\\\"\\n              class=\\\"half right\\\">\\n      <mat-icon class=\\\"btn-delete pointer\\\"\\n                [color]=\\\"'accent'\\\"\\n                (click)=\\\"onDelete(element.item.id)\\\">delete_forever</mat-icon>\\n    </mat-cell>\\n    <mat-footer-cell *matFooterCellDef\\n                     class=\\\"half right\\\"></mat-footer-cell>\\n  </ng-container>\\n\\n  <mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"\\n                  class=\\\"header-row\\\"></mat-header-row>\\n  <mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></mat-row>\\n  <mat-footer-row *matFooterRowDef=\\\"displayedColumns\\\"\\n                  class=\\\"footer-row\\\"></mat-footer-row>\\n</table>\"","module.exports = \"<div class=\\\"wrapper\\\">\\n  <h2>Your Cart</h2>\\n  <div *ngIf=\\\"dataSource$  as dataSource\\\">\\n    <div *ngIf=\\\"dataSource.length > 0; else empty\\\">\\n      <app-cart-table [dataSource]=\\\"dataSource\\\"\\n                      [total]=\\\"total$\\\"\\n                      (delete)=\\\"onDelete($event)\\\"\\n                      (quantityChange)=\\\"onQuantityChange($event)\\\"></app-cart-table>\\n      <div class=\\\"footer\\\">\\n        <span class=\\\"center bold\\\">Delivery Cost : {{ ( 1 ) | currency: 'EUR': 'symbol-narrow' : '1.0' }} \\n          / {{ (1| convert : 'USD') | currency: 'USD': 'symbol-narrow' : '1.0'  }}\\n        </span>\\n        <button mat-raised-button\\n                color=\\\"accent\\\"\\n                (click)=\\\"onCheckout()\\\">Checkout</button>\\n      </div>\\n    </div>\\n  </div>\\n  <ng-template #empty>\\n    <h3>Your cart is empty</h3>\\n  </ng-template>\\n</div>\\n\"","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { CartListComponent } from './containers/cart-list/cart-list.component';\n\nconst routes: Routes = [{ path: '', component: CartListComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CartRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { MaterialModule } from '../material/material.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { DialogComponent } from '../shared/components/dialog/dialog.component';\nimport { LoadingComponent } from '../shared/components/loading/loading.component';\nimport { NumberPickerDialogComponent } from '../shared/components/number-picker-dialog/number-picker-dialog.component';\nimport { SharedModule } from './../shared/shared.module';\nimport { CartRoutingModule } from './cart-routing.module';\nimport { CartTableComponent } from './components/cart-table/cart-table.component';\nimport { CartListComponent } from './containers/cart-list/cart-list.component';\nimport { CustomerInfoComponent } from './components/customer-info/customer-info.component';\nimport { ConvertPipe } from '../shared/pipe/convert/convert.pipe';\n\n@NgModule({\n  imports: [CommonModule, CartRoutingModule, MaterialModule, SharedModule],\n  declarations: [CartListComponent, CartTableComponent],\n  entryComponents: [\n    DialogComponent,\n    LoadingComponent,\n    NumberPickerDialogComponent,\n    CustomerInfoComponent\n  ],\n  providers: [ConvertPipe],\n\n})\nexport class CartModule {}\n","module.exports = \"table {\\n  width: 100%;\\n}\\n\\n.footer-row {\\n  font-weight: bold;\\n}\\n\\n.right {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: end;\\n          justify-content: flex-end;\\n}\\n\\n.center {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n.double {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-flex: 2;\\n          flex-grow: 2;\\n}\\n\\n.half {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-flex: 0.75;\\n          flex-grow: 0.75;\\n}\\n\\n.btn-edit {\\n  margin-left: 5px;\\n}\\n\\n.btn-delete {\\n  margin-right: 5px;\\n}\\n\\napp-number-picker {\\n  max-width: 70px;\\n}\\n\\n@media (min-width: 991px) {\\n  app-number-picker {\\n    max-width: 100px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FydC9jb21wb25lbnRzL2NhcnQtdGFibGUvY2FydC10YWJsZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usb0JBQWE7RUFBYixhQUFhO0VBQ2IscUJBQXlCO1VBQXpCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHdCQUF1QjtVQUF2Qix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxvQkFBYTtFQUFiLGFBQWE7RUFDYixtQkFBWTtVQUFaLFlBQVk7QUFDZDs7QUFFQTtFQUNFLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHNCQUFlO1VBQWYsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRTtJQUNFLGdCQUFnQjtFQUNsQjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvY2FydC9jb21wb25lbnRzL2NhcnQtdGFibGUvY2FydC10YWJsZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmZvb3Rlci1yb3cge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnJpZ2h0IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbn1cblxuLmNlbnRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uZG91YmxlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1ncm93OiAyO1xufVxuXG4uaGFsZiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZ3JvdzogMC43NTtcbn1cblxuLmJ0bi1lZGl0IHtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cblxuLmJ0bi1kZWxldGUge1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cblxuYXBwLW51bWJlci1waWNrZXIge1xuICBtYXgtd2lkdGg6IDcwcHg7XG59XG5cbkBtZWRpYSAobWluLXdpZHRoOiA5OTFweCkge1xuICBhcHAtbnVtYmVyLXBpY2tlciB7XG4gICAgbWF4LXdpZHRoOiAxMDBweDtcbiAgfVxufVxuIl19 */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\nimport { Item } from '../../../item/item.model';\nimport { CartItem } from '../../cart.model';\n\n@Component({\n  selector: 'app-cart-table',\n  templateUrl: './cart-table.component.html',\n  styleUrls: ['./cart-table.component.css']\n})\nexport class CartTableComponent implements OnInit {\n  @Input()\n  dataSource: Array<CartItem>;\n  @Input()\n  total: number;\n  @Output()\n  delete = new EventEmitter<number>();\n  @Output()\n  quantityChange = new EventEmitter<{\n    id: number;\n    quantity: number;\n  }>();\n\n  displayedColumns: Array<string> = ['title', 'quantity', 'totalEuro','totalUsd', 'delete'];\n\n  constructor() {}\n\n  ngOnInit() {\n  }\n\n  onDelete(id: number) {\n    this.delete.emit(id);\n  }\n\n  onQuantityChange(quantity: number, id: number) {\n    this.quantityChange.emit({\n      id,\n      quantity\n    });\n  }\n}\n","module.exports = \".wrapper {\\n  width: 80%;\\n  max-width: 800px;\\n  margin: auto;\\n}\\n\\n.footer {\\n  margin: 25px 0;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: end;\\n          justify-content: flex-end;\\n}\\n\\n.center {\\n  align-self: center;\\n  margin-right: 10px;\\n}\\n\\n.bold {\\n  font-weight: bold;\\n}\\n\\n@media (max-width: 991px) {\\n  .wrapper {\\n    width: 90%;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FydC9jb250YWluZXJzL2NhcnQtbGlzdC9jYXJ0LWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQVU7RUFDVixnQkFBZ0I7RUFDaEIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsY0FBYztFQUNkLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHFCQUF5QjtVQUF6Qix5QkFBeUI7QUFDM0I7O0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0U7SUFDRSxVQUFVO0VBQ1o7QUFDRiIsImZpbGUiOiJzcmMvYXBwL2NhcnQvY29udGFpbmVycy9jYXJ0LWxpc3QvY2FydC1saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIud3JhcHBlciB7XG4gIHdpZHRoOiA4MCU7XG4gIG1heC13aWR0aDogODAwcHg7XG4gIG1hcmdpbjogYXV0bztcbn1cblxuLmZvb3RlciB7XG4gIG1hcmdpbjogMjVweCAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xufVxuLmNlbnRlciB7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuXG4uYm9sZCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogOTkxcHgpIHtcbiAgLndyYXBwZXIge1xuICAgIHdpZHRoOiA5MCU7XG4gIH1cbn1cbiJdfQ== */\"","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { Observable, Subject, of } from 'rxjs';\nimport { filter, takeUntil, withLatestFrom, take } from 'rxjs/operators';\n\nimport { Item } from '../../../item/item.model';\nimport { DialogComponent } from '../../../shared/components/dialog/dialog.component';\nimport { LoadingComponent } from '../../../shared/components/loading/loading.component';\nimport { CartItem } from '../../cart.model';\nimport { CartService } from '../../cart.service';\nimport { NumberPickerDialogComponent } from './../../../shared/components/number-picker-dialog/number-picker-dialog.component';\nimport { ItemDetailWrapperComponent } from 'src/app/item/containers/item-detail-wrapper/item-detail-wrapper.component';\nimport { CustomerInfoComponent } from '../../components/customer-info/customer-info.component';\nimport { OrderService } from 'src/app/order/order.service';\nimport { Order } from 'src/app/order/order.model';\nimport { CheckoutModel } from 'src/app/order/checkout.model';\nimport {MatSnackBar } from '@angular/material/snack-bar';\nimport { ConvertPipe } from 'src/app/shared/pipe/convert/convert.pipe';\n\n\n@Component({\n  selector: 'app-cart-list',\n  templateUrl: './cart-list.component.html',\n  styleUrls: ['./cart-list.component.css']\n})\nexport class CartListComponent implements OnInit, OnDestroy {\n  dataSource$: Array<CartItem>;\n  total$;\n\n  constructor(private cartDataService: CartService,\n    private dialog: MatDialog,\n    private orderService: OrderService,\n    private snackBar: MatSnackBar,\n    private currencyPipe:ConvertPipe) { \n\n     \n\n    }\n\n  ngOnInit() {\n    this.dataSource$ = this.cartDataService.selectItems$;\n    this.total$ = this.cartDataService.getSelectTotal();\n   }\n\n  ngOnDestroy() {\n  }\n\n  onDelete(id) {\n    const dialog = this.dialog.open(DialogComponent, {\n      data: {\n        message: 'Are you sure you want to remove this item?',\n        isConfirm: true\n      }\n    });\n    dialog.afterClosed().subscribe(result => {\n      if (result) {\n        this.cartDataService.removeProduct(id);\n        this.ngOnInit();\n      }\n    });\n  }\n\n  onQuantityChange({ id, quantity }: { id: number; quantity: number }) {\n    const dialog = this.dialog.open(NumberPickerDialogComponent, {\n      data: quantity\n    });\n    dialog.afterClosed().subscribe(result => {\n      if (result) {\n        this.cartDataService.adjustQuantity(id, result);\n        this.ngOnInit();\n      }\n    });\n  }\n\n  onCheckout() {\n\n    of(this.dataSource$)\n      .pipe(take(1))\n      .subscribe(item => {\n        const dialogRef = this.dialog.open(CustomerInfoComponent, {\n          width: '30%',\n          height: '80%'\n        });\n\n        dialogRef.afterClosed().subscribe(result => {\n          if (result)\n            this.onAddToCart(result);\n            \n          //this.cartService.addToCart(result.id, result.amount);\n        });\n      });\n\n  }\n  onAddToCart(result: any) {\n\n    let order = <CheckoutModel>{};\n    order.itemIdsAndQuantities = {};\n    order.customer = result;\n    order.deliveryCost = 1;\n    order.priceEuro = this.total$;\n    order.priceUsd = this.currencyPipe.transform(order.priceEuro,\"USD\");\n\n    this.dataSource$.forEach(function (item) {\n      order.itemIdsAndQuantities[item.item.id] = item.quantity;\n    });\n    this.orderService.placeOrder(order).subscribe(\n      data => {\n        if (data && data.id){\n          //empty cart\n          this.cartDataService.selectItems$ = [];\n          this.ngOnInit();\n          this.snackBar.open(\"Your order has been placed successfull Order Number: \"+ data.id, 'Order Sucess', {\n            duration: 5000,\n         });\n          \n        }\n\n      }\n\n    );\n\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { EMPTY, Observable, observable, of } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Order } from './order.model';\nimport { tap, map, filter } from 'rxjs/operators';\nimport { CheckoutModel } from './checkout.model';\nimport { environment } from 'src/environments/environment';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderService {\n \n  readonly serviceAction:string = 'order';\n\n  constructor(private httpClient: HttpClient) { }\n\n  getOrders() {\n    return this.httpClient.get<Order>(\n     environment.baseUrl + 'all'\n    ).pipe(\n      tap((receivedData: Order) => { receivedData })\n    );\n  }\n\n  placeOrder(data: CheckoutModel) {\n    let headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n    let options = { headers: headers };\n    return this.httpClient.post<any>(\n      environment.baseUrl + this.serviceAction +'/', data, options\n    )\n  }\n\n  getOrderById(orderId: number) {\n    return this.httpClient.put<Order>(\n      environment.baseUrl + this.serviceAction + '/', orderId\n    ).pipe(\n      tap((receivedData: Order) => { receivedData })\n    );\n  }\n}\n"],"sourceRoot":""}